import nmap

def scan_target(target):
    # Create an Nmap scanner instance
    nm = nmap.PortScanner()

    websitePorts = {
        "httpPorts": [],
        "httpsPorts": []
    }

    # Run a quick scan on the target host
    nm.scan(target, '20-1024')  # Scanning ports 20 through 1024

    # Print the scan results
    for host in nm.all_hosts():
        if nm[host].state() != 'up':
            print("Host is down")
            return
        # print(f'Scan results for {host}:')
        for proto in nm[host].all_protocols():
            lport = nm[host][proto].keys()
            for port in lport:
                # print(f'Port : {port}, State : {nm[host][proto][port]["state"]}, Service: {nm[host][proto][port]["name"]}')
                portService = nm[host][proto][port]["name"]
                state = nm[host][proto][port]["state"]
                if portService == "http" and state == "open":
                    websitePorts["httpPorts"].append(port)
                elif portService == "https" and state == "open":
                    websitePorts["httpsPorts"].append(port)

    return websitePorts